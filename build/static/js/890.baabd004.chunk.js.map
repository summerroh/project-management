{"version":3,"file":"static/js/890.baabd004.chunk.js","mappings":"+PASe,SAASA,IACtB,MAAMC,GAAQC,EAAAA,EAAAA,KAERC,IADWC,EAAAA,EAAAA,GAAcH,EAAMI,YAAYC,KAAK,QACrCF,EAAAA,EAAAA,GAAcH,EAAMI,YAAYC,KAAK,QAChDC,GAAWH,EAAAA,EAAAA,GAAcH,EAAMI,YAAYC,KAAK,QAChD,WAAEE,IAAeC,EAAAA,EAAAA,KACjBC,GAAWC,EAAAA,EAAAA,OAEVC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,OAE5BK,EAAMC,IAAWN,EAAAA,EAAAA,UAAS,IAC1BO,EAAYC,IAAiBR,EAAAA,EAAAA,UAAS,CAC3CS,YAAa,EACbC,WAAY,EACZC,WAAY,EACZC,aAAc,KAGVC,GAAgBC,EAAAA,EAAAA,SAAO,IAE7BC,EAAAA,EAAAA,YAAU,KACR,IAAKrB,IAAemB,EAAcG,QAWhC,OAVAC,EAAAA,GAAAA,MAAY,kEAAiB,CAC3BC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,IAEbV,EAAcG,SAAU,OACxBpB,EAAS,UAIW4B,WACpB,IACEtB,GAAW,GACX,MAAMuB,QAAiBC,EAAAA,EAAAA,IACpB,0CAAyCrB,aAC1C,CACEsB,iBAAiB,IAGrB5B,EAAY0B,EAASG,KAAK9B,UAC1BU,EAAciB,EAASG,KAAKrB,YAC5BL,GAAW,EACb,CAAE,MAAO2B,GACPzB,EAAS,2BACTF,GAAW,EACb,GAGF4B,EAAe,GACd,CAACpC,EAAYE,EAAUS,IAM1B,OACE0B,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEF,EAAAA,EAAAA,KAACG,EAAAA,EAAG,CACFC,GAAI9C,EAAW,EAAI,EACnB+C,GAAI,CACFC,MAAO5C,EAAW,OAAS,UAC3BwC,UAEFF,EAAAA,EAAAA,KAACO,EAAAA,GAAI,CAACD,MAAO,OAAQE,WAAY,SAAUC,eAAgB,SAASP,UAClEF,EAAAA,EAAAA,KAACU,EAAAA,EAAI,CACH3C,SAAUA,EACVG,QAASA,EACTE,MAAOA,EACPI,WAAYA,EACZmC,aAlBgBC,IACxBrC,EAAQqC,EAAQ,SAuBpB,C","sources":["pages/forum/my-list.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport { useAuth } from \"contexts/AuthContext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { Box, Grid, useMediaQuery, useTheme } from \"@mui/material\";\r\nimport List from \"page-sections/forum-list/List\";\r\n\r\nexport default function MyForumList() {\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const isTablet = useMediaQuery(theme.breakpoints.down(\"lg\"));\r\n  const isLaptop = useMediaQuery(theme.breakpoints.down(\"lg\"));\r\n  const { isLoggedIn } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const [articles, setArticles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const [page, setPage] = useState(1);\r\n  const [pagination, setPagination] = useState({\r\n    currentPage: 1,\r\n    totalPages: 1,\r\n    totalItems: 0,\r\n    itemsPerPage: 10,\r\n  });\r\n\r\n  const toastShownRef = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (!isLoggedIn && !toastShownRef.current) {\r\n      toast.error(\"로그인 후 이용해주세요.\", {\r\n        position: \"top-right\",\r\n        autoClose: 3000,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n      });\r\n      toastShownRef.current = true;\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    const fetchArticles = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await axios.get(\r\n          `http://localhost:4000/my-articles?page=${page}&limit=10`,\r\n          {\r\n            withCredentials: true,\r\n          }\r\n        );\r\n        setArticles(response.data.articles);\r\n        setPagination(response.data.pagination);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError(\"Error fetching articles\");\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchArticles();\r\n  }, [isLoggedIn, navigate, page]);\r\n\r\n  const handlePageChange = (newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        my={isTablet ? 0 : 6}\r\n        sx={{\r\n          width: isLaptop ? \"100%\" : \"1100px\",\r\n        }}\r\n      >\r\n        <Grid width={\"100%\"} alignItems={\"center\"} justifyContent={\"center\"}>\r\n          <List\r\n            articles={articles}\r\n            loading={loading}\r\n            error={error}\r\n            pagination={pagination}\r\n            onPageChange={handlePageChange}\r\n          />\r\n        </Grid>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n"],"names":["MyForumList","theme","useTheme","isTablet","useMediaQuery","breakpoints","down","isLaptop","isLoggedIn","useAuth","navigate","useNavigate","articles","setArticles","useState","loading","setLoading","error","setError","page","setPage","pagination","setPagination","currentPage","totalPages","totalItems","itemsPerPage","toastShownRef","useRef","useEffect","current","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","async","response","axios","withCredentials","data","err","fetchArticles","_jsx","_Fragment","children","Box","my","sx","width","Grid","alignItems","justifyContent","List","onPageChange","newPage"],"sourceRoot":""}